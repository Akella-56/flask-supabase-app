# Flask Веб-приложение с авторизацией и CRUD-функционалом

## Обзор проекта
Полнофункциональное веб-приложение на Flask для управления товарами с системой регистрации и авторизации пользователей.

## Функционал

### Система авторизации
- **Регистрация**: Создание нового аккаунта пользователя с полями имя, email и пароль
- **Валидация**: Проверка уникальности email при регистрации
- **Хеширование паролей**: Безопасное хранение паролей с использованием `werkzeug.security`
- **Вход в систему**: Авторизация по email и паролю
- **Выход**: Функция logout для завершения сессии
- **Защита маршрутов**: Доступ к функционалу управления товарами только для авторизованных пользователей

### CRUD операции для товаров
- **Create (Создание)**: Добавление новых товаров через форму
- **Read (Чтение)**: Отображение всех товаров в интерактивной таблице
- **Update (Обновление)**: Редактирование существующих товаров
- **Delete (Удаление)**: Удаление товаров из базы данных с подтверждением

## Структура базы данных

### Таблица `users` (Пользователи)
- `id` - уникальный идентификатор
- `name` - имя пользователя
- `email` - электронная почта (уникальная)
- `password` - хешированный пароль

### Таблица `products` (Товары)
- `id` - уникальный идентификатор
- `name` - название товара
- `expiry_date` - срок годности
- `description` - описание товара
- `created_at` - дата создания записи

## Технологии

### Backend
- **Flask** - веб-фреймворк Python
- **Flask-SQLAlchemy** - ORM для работы с базой данных
- **PostgreSQL** - реляционная база данных
- **Werkzeug** - библиотека для хеширования паролей

### Frontend
- **Bootstrap 5** - CSS фреймворк для стилизации
- **Bootstrap Icons** - иконки
- **Jinja2** - шаблонизатор Flask

## Структура проекта

```
/
├── app.py                 # Основной файл приложения Flask
├── templates/             # HTML шаблоны
│   ├── base.html         # Базовый шаблон
│   ├── login.html        # Страница входа
│   ├── register.html     # Страница регистрации
│   ├── dashboard.html    # Главная страница со списком товаров
│   ├── add_product.html  # Форма добавления товара
│   └── edit_product.html # Форма редактирования товара
├── static/               # Статические файлы (пусто)
└── .gitignore           # Игнорируемые файлы
```

## Возможности интерфейса

- **Адаптивный дизайн**: Работает на всех устройствах
- **Цветовая индикация**: Сроки годности отображаются с цветовой маркировкой (красный < 7 дней, желтый < 30 дней, зеленый > 30 дней)
- **Flash-сообщения**: Информативные уведомления о результатах операций
- **Подтверждение удаления**: Защита от случайного удаления записей

## Безопасность

- Хеширование паролей с помощью `generate_password_hash` и `check_password_hash`
- Защита маршрутов с помощью декоратора `@login_required`
- Сессии для отслеживания авторизованных пользователей
- Секретный ключ для сессий (`SESSION_SECRET`)

## Последние изменения
**20 октября 2025**
- Создана полная система регистрации и авторизации
- Реализован CRUD-функционал для товаров
- Добавлены все HTML-шаблоны с Bootstrap дизайном
- Настроен Flask сервер на порту 5000
- Подключена PostgreSQL база данных

## Архитектурные решения

- **Монолитная архитектура**: Все в одном файле `app.py` для простоты
- **SQLAlchemy ORM**: Безопасная работа с базой данных через ORM
- **Декоратор защиты**: Использование `@login_required` для защищенных маршрутов
- **Flash messages**: Информирование пользователя о результатах операций

## Следующие шаги (возможные улучшения)

1. Добавить валидацию данных на стороне клиента и сервера
2. Реализовать функцию поиска и фильтрации товаров
3. Добавить пагинацию для таблицы товаров
4. Создать личный кабинет пользователя с возможностью изменения пароля
5. Добавить уведомления о товарах с истекающим сроком годности
